function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var app=new function(){var e,t,n=!1,r=!0,o="name",l=document.getElementById("add-name"),s=document.getElementById("add-count"),a=document.getElementById("add-price"),c=document.getElementById("edit-name"),d=document.getElementById("edit-count"),u=document.getElementById("edit-price"),m=document.getElementById("add-module"),y=document.getElementById("edit-module"),h=document.getElementById("delete-module"),p=document.getElementById("inactive-mask"),C=document.getElementById("add-error-information-name"),f=document.getElementById("add-error-information-count"),v=document.getElementById("add-error-information-price"),b=document.getElementById("edit-error-information-name"),g=document.getElementById("edit-error-information-count"),L=document.getElementById("edit-error-information-price");this.table=document.getElementById("products"),this.products=[{name:"Books",count:10,price:1400},{name:"Magazines",count:25,price:1e3},{name:"Newspapers",count:140,price:2800}],this.FetchAll=function(){var e="";if(this.products.length>0)for(i=0;i<this.products.length;i++)e+="<tr>",e+='<td class="app__table-name-value">'+this.products[i].name+"</td>",e+='<td class="app__table-count-value">'+this.products[i].count+"</td>",e+="<td> "+new Intl.NumberFormat("en-EN",{style:"currency",currency:"USD"}).format(this.products[i].price)+"</td>",e+='<td><div class="app__table-actions-block"><button onclick="app.Edit('+i+')">Edit</button><button onclick="app.Delete('+i+')">Delete</button></div></td>',e+="</tr>";return this.table.innerHTML=e},this.Add=function(){var e=function e(t,n,r){_classCallCheck(this,e),this.name=t,this.count=n,this.price=r},t=new e(l.value.trim(),s.value,a.value);this.Check("get")&&(m.style.display="none",p.style.display="none",this.products.push(t),this.FetchAll(),n=!n,r=!r,this.Sort(o),l.value="",s.value="",a.value="")},this.AddNew=function(){m.style.display="flex",p.style.display="block",l.value="",s.value="",a.value="",l.style.borderColor="#0C2427",s.style.borderColor="#0C2427",a.style.borderColor="#0C2427",C.innerHTML="",f.innerHTML="",v.innerHTML=""},this.closeAddForm=function(){m.style.display="none",p.style.display="none"},this.Delete=function(t){e=t,h.style.display="flex",p.style.display="block"},this.closeDeleteForm=function(){h.style.display="none",p.style.display="none"},this.applyDeleteForm=function(){h.style.display="none",p.style.display="none",this.products.splice(e,1),this.FetchAll()},this.Edit=function(e){y.style.display="flex",p.style.display="block",t=e,c.style.borderColor="#0C2427",d.style.borderColor="#0C2427",u.style.borderColor="#0C2427",c.value=this.products[e].name,d.value=this.products[e].count,u.value=this.products[e].price,b.innerHTML="",g.innerHTML="",L.innerHTML=""},this.closeEditForm=function(){y.style.display="none",p.style.display="none"},this.applyEditForm=function(){this.Check("edit")&&(this.products[t].name=c.value,this.products[t].count=d.value,this.products[t].price=u.value,this.FetchAll(),n=!n,r=!r,this.Sort(o),y.style.display="none",p.style.display="none")},this.Sort=function(e){function t(e,t){return e.price-t.price}function l(e,t){return t.price-e.price}function i(e,t){return e.name>t.name?1:e.name<t.name?-1:void 0}function s(e,t){return e.name>t.name?-1:e.name<t.name?1:void 0}"name"===e&&(n?(this.products.sort(s),n=!1,o="name",document.getElementById("table-sort-triangle-name").innerHTML="&#9660;"):(this.products.sort(i),n=!0,o="name",document.getElementById("table-sort-triangle-name").innerHTML="&#9650;")),"price"===e&&(r?(this.products.sort(l),r=!1,o="price",document.getElementById("table-sort-triangle-price").innerHTML="&#9660;"):(this.products.sort(t),r=!0,o="price",document.getElementById("table-sort-triangle-price").innerHTML="&#9650;")),this.FetchAll()},this.Sort("name"),this.Search=function(){var e=document.getElementById("search-form").value.toLowerCase().trim(),t=this.products,n=[];for(i=0;i<t.length;i++){e===t[i].name.slice(0,e.length).toLowerCase()&&n.push(t[i])}this.products=n,this.FetchAll(),document.getElementById("search-form").value=""},this.Check=function(e){var t=!0;return"get"===e?(""===l.value.trim()&&(l.style.borderColor="#F2223C",C.innerHTML="Please, enter the value.",t=!1),l.value.trim().length>15&&(l.style.borderColor="#F2223C",C.innerHTML="Sorry, but the field can't exceed 15 characters.",t=!1),""===s.value.trim()&&(s.style.borderColor="#F2223C",f.innerHTML="Please, enter the value.",t=!1),""===a.value.trim()&&(a.style.borderColor="#F2223C",v.innerHTML="Please, enter the value.",t=!1),t):"edit"===e?(""===c.value.trim()&&(c.style.borderColor="#F2223C",b.innerHTML="Please, enter the value.",t=!1),c.value.trim().length>15&&(c.style.borderColor="#F2223C",b.innerHTML="Sorry, but the field can't exceed 15 characters.",t=!1),""===d.value.trim()&&(d.style.borderColor="#F2223C",g.innerHTML="Please, enter the value.",t=!1),""===u.value.trim()&&(u.style.borderColor="#F2223C",L.innerHTML="Please, enter the value.",t=!1),t):void 0},l.onblur=function(){""===l.value.trim()&&(l.style.borderColor="#F2223C",C.innerHTML="Please, enter the value."),l.value.trim().length>15&&(l.style.borderColor="#F2223C",C.innerHTML="Sorry, but the field can't  exceed 15 characters.")},l.onfocus=function(){l.style.borderColor="#0C2427",C.innerHTML=""},s.onblur=function(){""===s.value.trim()&&(s.style.borderColor="#F2223C",f.innerHTML="Please, enter the value.")},s.onfocus=function(){s.style.borderColor="#0C2427",f.innerHTML=""},a.onblur=function(){""===a.value.trim()&&(a.style.borderColor="#F2223C",v.innerHTML="Please, enter the value.")},a.onfocus=function(){a.style.borderColor="#0C2427",v.innerHTML=""},c.onblur=function(){""===c.value.trim()&&(c.style.borderColor="#F2223C",b.innerHTML="Please, enter the value."),c.value.trim().length>15&&(l.style.borderColor="#F2223C",b.innerHTML="Sorry, but the field can't  exceed 15 characters.")},c.onfocus=function(){c.style.borderColor="#0C2427",b.innerHTML=""},d.onblur=function(){""===d.value.trim()&&(d.style.borderColor="#F2223C",g.innerHTML="Please, enter the value.")},d.onfocus=function(){d.style.borderColor="#0C2427",g.innerHTML=""},u.onblur=function(){""===u.value.trim()&&(u.style.borderColor="#F2223C",L.innerHTML="Please, enter the value.")},u.onfocus=function(){u.style.borderColor="#0C2427",L.innerHTML=""}};app.FetchAll();
